![img](http://pcc.huitogo.club/d04026c0b37de16c51184439136eb8fe)



在Linux操作系统中，所有被操作系统管理的资源，例如网络接口卡、磁盘驱动器、打印机、输入输出设备、普通文件或是目录都被看作是一个文件。

也就是说在LINUX系统中有一个重要的概念：**一切都是文件**。其实这是UNIX哲学的一个体现，而Linux是重写UNIX而来，所以这个概念也就传承了下来。在UNIX系统中，把一切资源都看作是文件，包括硬件设备。UNIX系统把每个硬件都看成是一个文件，通常称为设备文件，这样用户就可以用读写文件的方式实现对硬件的访问。



#### 1. Inode

Inode是什么?有什么作用?

文件存储在硬盘上，硬盘的最小存储单位是扇区(Sector),每个扇区存储512字节(0.5kb)。 操作系统读取硬盘的数据时，不会一个扇区一个扇区的读取，这样做效率较低，而是一次读取多个扇区， 即一次读取一个块(block)。块由多个扇区组成，是文件读取的最小单位，块的最常见的大小是4kb， 约为8个连续的扇区组成。文件数据存储在块中， 但还需要一个空间来存储文件的元信息metadata，如文件拥有者，创建时间，权限，大小等。 **这种存储文件元信息的区域就叫inode**，译为**索引节点**。 每个文件都有一个inode，存储文件的元信息。 使用 stat 命令可以查看文件的inode信息。每个inode都有一个号码， Linux/Unix操作系统不使用文件名来区分文件，而是使用inode号码区分不同的文件。

inode也需要消耗硬盘空间，所以在格式化硬盘的时候，操作系统会将硬盘分为2个区域， 一个区域存放文件数据，另一个区域存放inode所包含的信息， 存放inode的区域被称为inode table。



#### 2. 文件类型

![img](http://pcc.huitogo.club/678b1894cc8e2f08b8512c0485c7e688)



其中

1）链接文件分成**硬链接**和**软链接（符合链接）**

- 硬链接(Hard Link)：硬链接的文件拥有相同的inode，因为操作系统是靠inode来区分文件的， 2个inode相同的文件，就代表它们是一个文件。 删除一个文件并不会对其他拥有相同inode的文件产生影响
- 符号链接(软链接)(Symbolic Link): 符号链接类似于Windows上的快捷方式，它保存了源文件的路径。当源文件被删除时，符号链接就找不到源文件了。



2）设备文件分成**块设备文件**和**字符设备文件**

- 字符设备文件: 字符设备是依照先后顺序被存取数据的设备，通常不支持随机存取， 此类设备可以按字节/字符来读取数据， 如键盘，串口等等。
- 块设备文件: 块设备是可以被随机存取数据的设备，应用程序可以访问块设备上任何一块位置。 块设备以块的方式读取数据，在windows下也称为簇，块设备不支持字符的方式寻址。 如硬盘，软盘，光碟等等。



字符设备与块设备最根本的区别就是它们是否可以被随机访问。 如键盘，当我们在键盘上敲下一个单词: "word"的时候， 那么系统肯定是需要按照顺序来进行读取word的字节流(字符流)的，随机访问在此时是没有意义的。