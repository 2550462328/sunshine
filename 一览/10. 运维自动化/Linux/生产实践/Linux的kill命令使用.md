kill命令的实现是通过发送指定的信号到相应进程来实现的，就像是电视遥控器一样。一般先用ps或top命令查到进程的id,再使用kill杀死



常用的9种信号：

- 1 终端断线
- 2 中断（等同 Ctrl + C）

- 3 退出（同 Ctrl + ）

- 15 终止（可以使得进程在退出之前清理并释放资源），默认参数
- 9 强制终止
- 18 继续（与19相反）

- 19 暂停（等同 Ctrl + Z）



**常见的使用场景**

#### 1. 杀掉单个进程

查出服务的进程id ： ps aux |grep 进程名

杀死进程（3645为查到的进程id）： kill -9 3645



#### 2. 杀掉多个进程

##### 2.1 使用grep搜索进程

```
ps -ef|grep LOCAL=NO|grep -v grep|cut -c 9-15|xargs kill -9（类似这样）
```

注：管道符“|”用来隔开两个命令，管道符左边命令的输出会作为管道符右边命令的输入“ ps - ef”是Red Hat 里查看所有进程的命令。这时检索出的进程将作为下一条命令“grep LOCAL=NO”的输入。

1. “grep LOCAL=NO”的输出结果是，所有含有关键字“LOCAL=NO”的进程，这是Oracle数据库中远程连接进程的共同特点。
2. “grep -v grep”是在列出的进程中去除含有关键字“grep”的进程。
3. “cut -c 9-15”是截取输入行的第9个字符到第15个字符，而这正好是进程号PID。
4. “xargs kill -9”中的xargs命令是用来把前面命令的输出结果（PID）作为“kill -9”命令的参数，并执行该命令。
5. “kill -9”会强行杀掉指定进程，这样就成功清除了oracle的所有远程连接进程。其它类似的任务，**只需要修改“grep LOCAL=NO”中的关键字部分就可以了**。



##### 2.2 killall -9 进程名 或者 pkill -9 进程名

如杀死java相关进程：killall -9 java



##### 2.3 强制踢掉登陆用户

查看用户登陆信息： w

查看自己的身份（避免把自己踢掉）：who am i

例如踢掉用户ats

pkill -kill -t pts/2(按终端踢，pts/2为所踢用户的终端)

或

pkill -u ats(按用户名踢，ats为用户名)



#### 3. kill的注意事项

1. 如果kill时，不指定信号就会**默认发送信号15**，终止指定进程，使得进程在退出之前清理并释放资源。

2. 使用kill时，root用户将影响用户的进程，非root用户只能影响自己的进程。

3. 使用kill时，当kill向进程发送信号，必须是这些进程的主人。如果杀死一个没有权限杀死的进程或杀死一个不存在的进程，就会报错。如下：

   ```
   -bash: kill: (20) - No such process
   ```

4. 使用kill时，如果成功地发送了信号，shell会在屏幕上显示出进程的终止信息。（按下Enter键，就会显示出来）

5. 使用kill时，如果使用信号9，使进程强行终止，可能会使数据丢失或者终端无法恢复到正常状态。

6. init进程，它是一个由内核启动的用户级进程，所有进程都是init进程的子孙，init不可杀