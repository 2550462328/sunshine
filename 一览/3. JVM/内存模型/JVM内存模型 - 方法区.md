类加载子系统负责从文件系统或者网络中加载Class信息，加载的类信息存放在一块称为方法区的内存空间。

![img](http://pcc.huitogo.club/a4d75daec6e55130473e281597b31101)



方法区逻辑上属于Java 堆的一部分，是各个线程共享的内存区域，方法区中存储的信息：

- 类型信息：类class、接口interface、枚举enum、注解annotation
- 域（Field）信息
- 方法（Method）信息
- 方法的字节码（bytecodes）、操作数栈、局部变量表大小（abstract和native方法除外）
- 异常表

…

![img](http://pcc.huitogo.club/241aa8a27178ae8b889284fd9d469f26)



其中类信息除了有类的版本、字段、方法、接口等描述信息外，还有class常量池信息（用于存放编译期生成的各种字面量和符号引用）。

HotSpot 虚拟机中方法区也常被称为 “永久代”，本质上两者并不等价。仅仅是因为 HotSpot 虚拟机设计团队用永久代来实现方法区而已，这样 HotSpot 虚拟机的垃圾收集器就可以像管理 Java 堆一样管理这部分内存了。



所以说“**永生代是方法区的一种实现**”。

在jdk1.8之前 方法区是用永久代实现的，它包括类信息、静态变量和interned strings

**永久代是堆的一部分**



Jdk1.9之后，方法区是用元空间实现的，它只包括类信息，静态变量和interned strings被移植到了堆里。

**元空间是非堆的，它是一块直接内存。**



相对而言，垃圾收集行为在这个区域是比较少出现的，但并非数据进入方法区后就“永久存在”了。