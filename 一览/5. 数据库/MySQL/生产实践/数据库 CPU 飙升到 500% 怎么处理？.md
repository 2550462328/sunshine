#### 1. 检查系统的状态

通过操作系统的一些工具检查系统的状态，比如 CPU、内存、交换、磁盘的利用率，根据经验或与系统正常时的状态相比对，有时系统表面上看起来看空闲，这也可能不是一个正常的状态，因为 CPU 可能正等待IO的完成。除此之外，还应观注那些占用系统资源(CPU、内存)的进程。

- 使用 sar 来检查操作系统是否存在 IO 问题。
- 使用 vmstat 监控内存 CPU 资源。
- 磁盘 IO 问题，处理方式：做 raid IO 提高性能 。
- 网络问题，telnet 一下 MySQL 对外开放的端口。如果不通的话，看看防火墙是否正确设置了。另外，看看 MySQL是不是开启了 skip-networking 的选项，如果开启请关闭。



#### 2. 检查 MySQL 参数

- max_connect_errors

  指定允许连接不成功的最大尝试次数。5.7默认是100；如果到达这个数，那么服务器将不再允许新的连接，即便mysql仍正常对外提供服务。所以可以将这个参数设置为几万。

- connect_timeout

  连接过程中握手的超时时间，在5.0.52以后默认为10秒，之前版本默认是5秒。

- skip-name-resolve

  控制MySQL服务器在执行查询时是否进行主机名解析。

- slave-net-timeout=seconds

  当slave从主数据库读取log数据失败后，等待多久重新建立连接并获取数据 slave_net_timeout单位为秒 默认设置为 3600秒。

- master-connect-retry

  在主服务器宕机或连接丢失的情况下，从服务器线程重新尝试连接主服务器之前睡眠的秒数。如果主服务器.info文件中的值可以读取则优先使用。如果未设置， 默认值为60。



#### 3. 检查 MySQL 相关状态值

- 关注连接数
- 关注下系统锁情况
- 关注慢查询（slow query）日志