加密算法通常分为对称性加密算法和非对称性加密算法，对于对称性加密算法，信息接收双方都需事先知道密匙和加解密算法且其密匙是相同的，之后便是对数据进行加解密了。非对称算法与之不同，发送双方A,B事先均生成一堆密匙，然后A将自己的公有密匙发送给B，B将自己的公有密匙发送给A，如果A要给B发送消 息，则先需要用B的公有密匙进行消息加密，然后发送给B端，此时B端再用自己的私有密匙进行消息解密，B向A发送消息时为同样的道理。



#### 1. 对称性加密

**对称加密算法 是应用较早的加密算法，又称共享密钥加密算法。在 对称加密算法中，使用的密钥只有一个，发送和接收双方都使用这个密钥对数据进行加密和解密。这就要求加密和解密方事先都必须知道加密的密钥。**

AES、DES、3DES 都是 对称 的 块加密算法，加解密 的过程是 可逆的。

##### 1.1 DES

DES是一种分组数据加密技术（先将数据分成固定长度的小数据块，之后进行加密），速度较快，适用于大量数据加密。

DES 加密算法是对 密钥 进行保密，而公开算法，包括加密和解密算法。这样，只有掌握了和发送方 相同密钥 的人才能解读由DES加密算法加密的密文数据。因此，破译 DES 加密算法实际上就是搜索密钥的编码。对于 56 位长度的 密钥 来说，如果用 穷举法来进行搜索的话，其运算次数为 2 ^ 56 次。



##### 1.2 3DES

而3DES是一种基于DES的加密算法，使用3个不同密匙对同一个分组数据块进行3次加密，如此以使得密文强度更高。



##### 1.3 AES

AES 加密算法是密码学中的 高级加密标准，该加密算法采用对称分组密码体制，密钥长度的最少支持为 128 位、 192 位、256 位，分组长度 128 位，算法应易于各种硬件和软件实现。这种加密算法是美国联邦政府采用的区块加密标准。

相较于DES和3DES算法而言，**AES算法有着更高的速度和资源使用效率，安全级别也较之更高了**，被称为下一代加密标准。



对称加密算法比较：

![img](http://pcc.huitogo.club/83b2ce0e79c0fe4963bbc06553e47785)



#### 2. 非对称性加密

**非对称加密算法，又称为 公开密钥加密算法。它需要两个密钥，一个称为 公开密钥(public key)，即 公钥，另一个称为 私有密钥 (private key)，即 私钥。**

- **如果使用 公钥 对数据 进行加密，只有用对应的 私钥 才能 进行解密。**
- **如果使用 私钥 对数据 进行加密，只有用对应的 公钥 才能 进行解密。**



例子：甲方生成 一对密钥 并将其中的一把作为 公钥 向其它人公开，得到该公钥的 乙方使用该密钥对机密信息 进行加密 后再发送给甲方，甲方再使用自己保存的另一把专用密钥 (私钥)，对 加密 后的信息 进行解密。



##### 2.1 RSA

RSA 加密算法是目前最有影响力的 公钥加密算法，并且被普遍认为是目前最优秀的公钥方案 之一。RSA 是第一个能同时用于 加密 和 数字签名 的算法，它能够抵抗 到目前为止已知的 所有密码攻击，已被 ISO 推荐为公钥数据加密标准。

提示：RSA 加密算法 基于一个十分简单的数论事实：将两个大 素数相乘十分容易，但想要对其乘积进行 因式分解 却极其困难，因此可以将 乘积 公开作为加密密钥。



##### 2.2 ECC

ECC 也是一种 非对称加密算法，主要优势是在某些情况下，它比其他的方法使用更小的密钥，比如 RSA 加密算法，提供 相当的或更高等级 的安全级别。不过一个缺点是加密和解密操作 的实现比其他机制 时间长 (相比 RSA 算法，该算法对 CPU 消耗严重)。



非对称加密算法比较：

![img](http://pcc.huitogo.club/257975c44ca46088a2bdcc8dc94e5377)



#### 3. 线性散列算法（签名算法）

这几种算法只生成一串不可逆的密文，经常用其效验数据传输过程中是否经过修改，因为相同的生成算法对于同一明文只会生成唯一的密文，若相同算法生成的密文不同，则证明传输数据进行过了修改。通常在数据传说过程前，使用MD5和SHA1算法均需要发送和接收数据双方在数据传送之前就知道密匙生成算法，而HMAC与之不同的是需要生成一个密匙，发送方用此密匙对数据进行摘要处理（生成密文），接收方再利用此密匙对接收到的数据进行摘要处理，再判断生成的密文是否相同。



##### 3.1 MD5

MD5 用的是 **哈希函数**，它的典型应用是对一段信息产生**信息摘要**，以**防止被篡改**。严格来说，MD5 不是一种 **加密算法** 而是**摘要算法**。无论是多长的输入，MD5 都会输出长度为 **128bits 的一个串** (通常用16 进制 表示为 32 个字符)。



##### 3.2 SHA1

SHA1 是和 MD5 一样流行的 **消息摘要算法**，然而 SHA1 比 MD5 的**安全性更强**。对于长度小于 2 ^ 64 位的消息，SHA1 会产生一个 **160 位的消息摘要**。基于 MD5、SHA1 的信息摘要特性以及 **不可逆**(一般而言)，可以被应用在检查 **文件完整性** 以及 **数字签名** 等场景。



##### 3.3 HMAC

HMAC 是密钥相关的 **哈希运算消息认证码**（Hash-based Message Authentication Code），HMAC 运算利用 **哈希算法** (MD5、SHA1 等)，以 **一个密钥** 和**一个消息** 为输入，生成一个 **消息摘要** 作为 输出。

HMAC **发送方** 和 **接收方** 都需要有 **key** 进行计算，而没有这把 key的第三方，则是 **无法计算** 出正确的 **散列值**的，这样就可以 防止数据被篡改。

注！ HMAC 算法实例在 **多线程环境** 下是 **不安全**的。但是需要在 多线程访问时，进行同步的辅助类，使用 ThreadLocal 为 每个线程缓存一个实例可以避免进行锁操作。



散列算法比较：

![img](http://pcc.huitogo.club/da1de35c3ba75b53d99e40c25ed3bd8b)



#### 4. 对于各种加密算法的选用

##### 4.1 对称算法

密钥管理：比较难，不适合互联网，一般用于内部系统

安全性：中

加密速度：快好 几个数量级 (软件加解密速度至少快 100 倍，每秒可以加解密数 M 比特数据)，适合大数据量的加解密处理



##### 4.2 非对称算法

密钥管理：密钥容易管理

安全性：高

加密速度：比较慢，适合 小数据量 加解密或数据签名



在实际的操作过程中，我们通常采用的方式是：采用非对称加密算法管理对称算法的密钥，然后用对称加密算法加密数据，这样我们就集成了两类加密算法的优点，既实现了加密速度快的优点，又实现了安全方便管理密钥的优点。

如果在选定了加密算法后，那采用多少位的密钥呢？一般来说，密钥越长，运行的速度就越慢，应该根据的我们实际需要的安全级别来选择，一般来说，RSA建议采用1024位的数字，ECC建议采用160位，AES采用128为即可。